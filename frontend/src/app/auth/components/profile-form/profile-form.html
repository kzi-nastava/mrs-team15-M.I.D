<form class="profile-form" (ngSubmit)="$event.preventDefault()">

  <div class="toast-notification" [class.show]="showToast">
    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm-1 15l-5-5 1.41-1.41L9 12.17l7.59-7.59L18 6l-9 9z" fill="white"/>
    </svg>
    <span>{{toastMessage}}</span>
  </div>

        <div class="avatar" (click)="onSelectPhoto()">
    <img src="assets/pfp/default-avatar-icon.jpg" alt="Profile picture" />
    <div class="avatar-overlay">
    </div>
    <input type="file" #fileInput accept="image/*" style="display: none" (change)="onFileSelected($event)" />
    </div>



    <h2 class="profile-name">
      {{ user.firstName }} {{ user.lastName }}
    </h2>
    

  <div class="row g-2 mt-2">
        <div class="col-12 col-md-6">
          <app-input-component
            type="text"
            height="35px"
            placeholder="First name"
            [value]="user.firstName">
          </app-input-component>
        </div>

        <div class="col-12 col-md-6">
          <app-input-component
            type="text"
            height="35px"
            placeholder="Last name"
            [value]="user.lastName">
          </app-input-component>
        </div>
      </div>

      <div class="row g-2 mt-2">
        <div class="col-12 col-md-6">
          <app-input-component
            type="tel"
            height="35px"
            placeholder="Phone number"
            [value]="user.phone">
          </app-input-component>
        </div>

        <div class="col-12 col-md-6">
          <app-input-component
            type="text"
            height="35px"
            placeholder="Address"
            [value]="user.address">
          </app-input-component>
        </div>
      </div>

      <app-input-component
        class="form-input w-100 mt-3"
        type="email"
        height="35px"
        placeholder="Email"
        [value]="user.email">
      </app-input-component>

        <div class="driver-stats" *ngIf="user.role === 'driver'">
        <span>Active hours last 24h: {{ user.activeHours }}h</span>
        
        </div>


      <app-vehicle-form
        *ngIf="user.role === 'driver'"
        [vehicle]="user.vehicle">
      </app-vehicle-form>


      <div class="form-actions">
        <app-button
        width="220px"
        height="40px"
        variant="secondary"
        text="Change Password"
        fontWeight="600"
        (clicked)="goToChangePassword()">
        </app-button>

        <app-button
        width="220px"
        height="40px"
        variant="primary"
        fontWeight="600"
        [text]="user.role === 'driver' ? 'Request Changes' : 'Save Changes'"
        (clicked)="onSave()">
        </app-button>

      </div>

</form>
